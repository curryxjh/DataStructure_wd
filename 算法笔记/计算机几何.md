# 计算几何

## 凸包

Graham扫描法(葛立恒扫描法)

凸包是计算几何中的概念，定义如下: 在实数向量空间V中，对于给定集合X，所有包含X的凸集的交集S被称为X的凸包。

X的凸包可以用X内所有点(X1，X2，X3……)的线性组合来构造。

通俗一点来说就是：给定一平面内的点集，过点集中某些点做一个多边形，使得这个多边形可以将所有点“包”起来，并且当这个图形为凸多边形的时候，我们称它为凸包。如下图：

<img src="D:\桌面\算法\算法笔记\凸包表示.png" style="zoom: 80%;" />

~~`注：上下两幅图不匹配仅作举例`~~

那么如何去判断一个一个点集是否是一个凸包呢，就需要使用Graham扫描法：我们先找到点集中凸包上的一个点，然后从该点开始逆时针方向逐个找凸包上的点，即进行极角排序。如下图，极角排序，即将所有点平移到以P0为原点的平面直角坐标系当中，计算各个点相对于P0的幅角，对幅角进行排序(从小到大)，即可得到如下图的形式，那么除P0外我们还可看出P1和P8也一定是凸包上的点。由于纵坐标最小的点一定是凸包上的点，所以起始点我们选择纵坐标最小的点，即P0一定是凸包上的点，那么按照graham扫描法：

步骤1：首先选择凸包上的一个点即P0再从该点开始的逆时针方向逐个找凸包上的点，我们先找P1，那么首先得到两个点P0和P1，将其放入栈中。之后将后面的点当作当前点，即P2。

步骤2：连接栈顶的两个点，得到直线L，判断当前点的位置，有三种情况：①在L左侧	②在L上	③在L右侧	，当是第③种情况的时候则执行步骤3，其余情况①②则执行步骤4.

步骤3：栈顶元素不是凸包上的点，即将栈顶元素出栈。再继续执行步骤2.

步骤4：当前点是凸包上的点，将其压入栈种，执行步骤 5.

步骤5：判断当前点是否是凸包的左右一个元素，若是的话就结束判断，若不是则将后面的继续当作当前点进行判断，继续执行步骤2.

针对于此判断方法，我们仅需要计算出栈顶两个点所连成的直线的斜率，以及栈顶元素和当前点所连成的直线的斜率，判断其大小，当前者斜率大于后者是说明栈顶元素不是凸包上的点，当前者斜率小于等于后者时说明当前点是凸包上的点。

判断方法2：将当前点与栈顶元素进行连线，判断栈顶两个元素和当前点所连成的两条线构成的角，以栈顶元素为顶点的角，从栈顶第二个元素旋转到当前点是向左转还是向右转，向左转则说明栈顶元素不是凸包上的点，向右转则说明当前点是凸包上的点。



![](D:\桌面\算法\算法笔记\凸包二维直角坐标系.png)